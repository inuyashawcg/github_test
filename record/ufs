(gdb) p* ip->i_e2fs
$3 = {
  e2fs = 0xffffffd002dd5c00,
  e2fs_fsmnt = "/ext2", '\000' <repeats 506 times>,
  e2fs_ronly = 0 '\000',
  e2fs_fmod = 1 '\001',
  e2fs_bcount = 131072,
  e2fs_rbcount = 6553,
  e2fs_fbcount = 121295,
  e2fs_ficount = 32757,
  e2fs_bsize = 1024,
  e2fs_bshift = 10,
  e2fs_bpg = 8192,
  e2fs_qbmask = 1023,
  e2fs_fsbtodb = 1,
  e2fs_ipg = 2048,
  e2fs_ipb = 4,
  e2fs_itpg = 512,
  e2fs_fsize = 1024,
  e2fs_fpb = 1,
  e2fs_fpg = 8192,
  e2fs_gdbcount = 1,
  e2fs_gcount = 16,
  e2fs_isize = 256,
  e2fs_total_dir = 2,
  e2fs_contigdirs = 0xffffffd006d40fa0 "",
  e2fs_wasvalid = 1 '\001',
  e2fs_maxfilesize = 281474976710655,
  e2fs_gd = 0xffffffd002dd5800,
  e2fs_contigsumsize = 32,
  e2fs_maxcluster = 0xffffffd002e14a40,
  e2fs_clustersum = 0xffffffd006da0a00,
  e2fs_uhash = 0,
  e2fs_csum_seed = 0
}


(gdb) p *ip
$8 = {
  i_vnode = 0xffffffd006d881e8,
  i_ump = 0xffffffd006e6bc00,
  i_flag = 0,
  i_number = 8193,
  i_e2fs = 0xffffffd002b70000,
  i_modrev = 662224369097,
  i_count = 0,
  i_endoff = 0,
  i_diroff = 0,
  i_offset = 0,
  i_block_group = 4,
  i_next_alloc_block = 0,
  i_next_alloc_goal = 0,
  i_mode = 16877,
  i_nlink = 2,
  i_uid = 0,
  i_gid = 0,
  i_size = 0,
  i_blocks = 0,
  i_atime = 1632378009,
  i_mtime = 1632378009,
  i_ctime = 1632378009,
  i_birthtime = 1632378009,
  i_mtimensec = 828051000,
  i_atimensec = 828051000,
  i_ctimensec = 828051000,
  i_birthnsec = 823469000,
  i_gen = 3609135878,
  i_facl = 0,
  i_flags = 0,
  {
    {
      i_db = {0 <repeats 12 times>},
      i_ib = {0, 0, 0}
    },
    i_data = {0 <repeats 15 times>}
  },
  i_ext_cache = {
    ec_start = 0,
    ec_blk = 0,
    ec_len = 0,
    ec_type = 0
  }
}


ext2_balloc (ip=0xffffffd006f14800, lbn=0, size=1024, cred=0xffffffd006da0d00, bpp=0xffffffc0a51b73f8, flags=128)
    at /usr/home/wcg/qihai/sys/fs/ext2fs/ext2_balloc.c:156
156				    fs->e2fs_bsize, cred, &newb);
(gdb) n
154				error = ext2_alloc(ip, lbn,
(gdb) n

Thread 1 hit Breakpoint 3, ext2_alloc (ip=0xffffffd006f14800, lbn=0, bpref=32769, size=1024, cred=0xffffffd006da0d00, 
    bnp=0xffffffc0a51b72e0) at /usr/home/wcg/qihai/sys/fs/ext2fs/ext2_alloc.c:106
106		uprintf("ext2_alloc------------------------\n");


(gdb) p *ip
$25 = {
  i_vnode = 0xffffffd006d881e8,
  i_ump = 0xffffffd006e6bc00,
  i_flag = 6,
  i_number = 8193,
  i_e2fs = 0xffffffd002b70000,
  i_modrev = 662224369097,
  i_count = 0,
  i_endoff = 0,
  i_diroff = 0,
  i_offset = 0,
  i_block_group = 4,
  i_next_alloc_block = 0,
  i_next_alloc_goal = 33283,
  i_mode = 16877,
  i_nlink = 2,
  i_uid = 0,
  i_gid = 0,
  i_size = 0,
  i_blocks = 2,
  i_atime = 1632378009,
  i_mtime = 1632378009,
  i_ctime = 1632378009,
  i_birthtime = 1632378009,
  i_mtimensec = 828051000,
  i_atimensec = 828051000,
  i_ctimensec = 828051000,
  i_birthnsec = 823469000,
  i_gen = 3609135878,
  i_facl = 0,
  i_flags = 0,
  {
    {
      i_db = {0 <repeats 12 times>},
      i_ib = {0, 0, 0}
    },
    i_data = {0 <repeats 15 times>}
  },
  i_ext_cache = {
    ec_start = 0,
    ec_blk = 0,
    ec_len = 0,
    ec_type = 0
  }
}



root@qemu:/ext2 # ls -al
ext2_access------------------------
ext2_getattr------------------------
ext2_itimes------------------------
ext2_itimes_locked------------------------
ext2_access------------------------
ext2_access------------------------
ext2_open------------------------
ext2_access------------------------
ext2_access------------------------
ext2_access------------------------
ext2_open------------------------
ext2_access------------------------
ext2_access------------------------
ext2_open------------------------
ext2_getattr------------------------
ext2_itimes------------------------
ext2_itimes_locked------------------------
ext2_access------------------------
ext2_readdir------------------------
ext2_access------------------------
ext2_getattr------------------------
ext2_itimes------------------------
ext2_itimes_locked------------------------
ext2_access------------------------
ext2_lookup_ino------------------------
ext2_lookup_ino------------------------
ext2_is_dot_entry------------------------
ext2_htree_has_idx-------------------------
ext2_htree_lookup-------------------------
ext2_htree_find_leaf-------------------------
ext2_get_hash_seed-------------------------
ext2_htree_get_limit-------------------------
ext2_htree_root_limit-------------------------
ext2_htree_get_count-------------------------
ext2_htree_get_limit-------------------------
ext2_htree_get_hash-------------------------
ext2_htree_get_block-------------------------
ext2_search_dirblock------------------------
ext2_htree_release-------------------------
ext2_getattr------------------------
ext2_itimes------------------------
ext2_itimes_locked------------------------
ext2_inactive------------------------
ext2_access------------------------
ext2_lookup_ino------------------------
ext2_lookup_ino------------------------
ext2_is_dot_entry------------------------
ext2_htree_has_idx-------------------------
ext2_htree_lookup-------------------------
ext2_htree_find_leaf-------------------------
ext2_get_hash_seed-------------------------
ext2_htree_get_limit-------------------------
ext2_htree_root_limit-------------------------
ext2_htree_get_count-------------------------
ext2_htree_get_limit-------------------------
ext2_htree_get_hash-------------------------
ext2_htree_get_block-------------------------
ext2_search_dirblock------------------------
ext2_htree_release-------------------------
ext2_getattr------------------------
ext2_itimes------------------------
ext2_itimes_locked------------------------
ext2_inactive------------------------
ext2_access------------------------
ext2_lookup_ino------------------------
ext2_lookup_ino------------------------
ext2_is_dot_entry------------------------
ext2_htree_has_idx-------------------------
ext2_htree_lookup-------------------------
ext2_htree_find_leaf-------------------------
ext2_get_hash_seed-------------------------
ext2_htree_get_limit-------------------------
ext2_htree_root_limit-------------------------
ext2_htree_get_count-------------------------
ext2_htree_get_limit-------------------------
ext2_htree_get_hash-------------------------
ext2_htree_get_block-------------------------
ext2_search_dirblock------------------------
ext2_htree_release-------------------------
ext2_getattr------------------------
ext2_itimes------------------------
ext2_itimes_locked------------------------
ext2_inactive------------------------
ext2_readdir------------------------
ext2_close------------------------
ext2_itimes_locked------------------------
ext2_access------------------------
ext2_access------------------------
ext2_close------------------------
ext2_itimes_locked------------------------
total 10
ext2_access------------------------
ext2_access------------------------
ext2_pathconf------------------------
ext2_access------------------------
ext2_access------------------------
ext2_pathconf------------------------
drwxr-xr-x   5 root  wheel  3072 Sep 23 09:33 .
ext2_access------------------------
ext2_access------------------------
drwxr-xr-x  24 root  wheel   512 Sep 23 09:31 ..
ext2_access------------------------
ext2_access------------------------
ext2_pathconf------------------------
ext2_inactive------------------------
ext2_access------------------------
ext2_access------------------------
ext2_pathconf------------------------
ext2_inactive------------------------
